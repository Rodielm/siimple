@use "../variables.scss" as variables;
@use "../functions.scss" as functions;
@use "../mixins.scss" as mixins;
@use "../utils.scss" as utils;

$navbar-height: 2.5rem !default;
$navbar-padding: 1.5rem !default;
$navbar-background: functions.get-color("white") !default;
$navbar-breakpoint-desktop: variables.$desktop !default;
$navbar-breakpoint-mobile: variables.$desktop - 1px !default;

$navbar-item-height: 1rem !default;
$navbar-item-padding: 0.5rem !default;
$navbar-item-margin: 0.5rem !default;
$navbar-item-font-weight: variables.$font-weight-normal !default;
$navbar-item-color: variables.$body-color !default;

$navbar-brand-line-height: 1.5rem !default;
$navbar-brand-font-size: 1.5rem !default;
$navbar-brand-padding: 0.5rem !default;
$navbar-brand-margin-left: 0rem !default;
$navbar-brand-margin-right: 1.25rem !default;
$navbar-brand-color: variables.$body-color !default;

//Navbar class
.#{variables.$prefix}navbar {
    display: flex; 
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    //position: absolute; top: 0px; left: 0px;
    z-index: 3;
    //width: 100%;
    //max-width: calc(100% - 2 * #{$siimple-navbar-padding});
    min-height: #{$navbar-height + 2 * $navbar-padding}; 
    //font-family: $siimple-default-text-font;
    //margin: $siimple-navbar-margin;
    padding-top: $navbar-padding;
    padding-bottom: $navbar-padding;
    vertical-align: top;
    @include mixins.content-fluid(); //Default navbar size
    position: relative;
    background-color: $navbar-background;
    //color: siimple.$text-color;
    //Common navbar brand and navbar link styles
    &-brand,
    &-item {
        display: block;
        //height: 34px;
        //height: $navbar-height;
        //line-height: $navbar-height;
        //padding: 10px;
        //vertical-align: top;
        text-decoration: none;
        cursor: pointer;
    }
    //Navbar brand (previous navbar-title)
    &-brand {
        //font-weight: bold;
        font-size: $navbar-brand-font-size;
        line-height: $navbar-brand-line-height;
        margin-right: $navbar-brand-margin-right;
        color: $navbar-brand-color;
        //transition: all 0.3s;
        padding-top: $navbar-brand-padding;
        padding-bottom: $navbar-brand-padding;
    }
    //Navbar item
    &-item {
        display: block;
        min-height: $navbar-item-height;
        //text-align: center;
        //font-weight: bold;
        //font-size: siimple.$text-size;
        font-weight: $navbar-item-font-weight;
        //transition: opacity 0.3s;
        opacity: 0.6;
        color: $navbar-item-color; //Default text color
        padding: $navbar-item-padding;
        //cursor: pointer;
        //vertical-align: middle;
        &:hover {
            opacity: 1.0;
            transition: opacity 0.3s;
        }
        //Navbar link active
        &.is-active {
            font-weight: variables.$font-weight-bold;
            opacity: 1.0 !important;
        }
        //Navbar link disabled
        &.is-disabled {
            opacity: 0.4 !important;
            cursor: not-allowed;
            pointer-events: none; //Disable clicks
        }
    }
    //Styles for desktop
    @media screen and (min-width: $navbar-breakpoint-desktop) {
        //Navbar content
        &-content {
            display: flex;
            flex-grow: 1;
            justify-content: flex-end; //Right aligned
        }
        //Navigation item
        //&-item {
        //    padding-left: $navbar-item-padding;
        //    padding-right: $navbar-item-padding;
        //    //margin-right: $navbar-item-margin-right;
        //}
        //Next item of the navbar content with no the item class
        &-item + *:not(#{&}-item) {
            margin-left: $navbar-item-margin;
        }
        //Previous item of the navbar content with no the item class
        *:not(#{&}-item) + &-item {
            margin-left: $navbar-item-margin;
        }
        //Navbar toggle
        &-toggle {
            display: none !important;
        }
    }
    //Styles for mobile devices
    @media screen and (max-width: $navbar-breakpoint-mobile) {
        //Navbar content for mobile devices
        &-content {
            display: block;
            width: 100%;
            max-height: 0px;
            overflow: hidden;
            transition: max-height 0.3s;
        }
        //Menu items
        &-item {
            //padding-top: $navbar-item-padding;
            //padding-bottom: $navbar-item-padding;
            margin-top: $navbar-item-margin;
            margin-bottom: $navbar-item-margin;
        }
        ////Next item of the navbar content with no the item class
        //&-item + *:not(#{&}-item) {
        //    margin-top: $navbar-item-margin;
        //}
        ////Previous item of the navbar content with no the item class
        //*:not(#{&}-item) + &-item {
        //    margin-top: $navbar-item-margin;
        //}
        //Navbar toggle
        &-toggle {
            display: block;
            position: relative;
            width: 56px;
            height: 40px;
            //outline: 0;
            cursor: pointer;
            //Disable apperance for checkbox toggles
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            margin: 0px;
            padding: 0px;
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            border-radius: variables.$border-radius-base;
            border: 2px solid functions.get-color("dark");
        }
        //Toggle icon
        &-toggle::before {
            content: "";
            position: absolute;
            border-top: 4px solid functions.get-color("dark");
            border-bottom: 4px solid functions.get-color("dark");
            width: 28px;
            height: 20px;
            top: 8px;
        }
        &-toggle::after {
            content: "";
            position: absolute;
            height: 4px;
            background-color: functions.get-color("dark");
            width: 28px;
            top: 16px;
        }
        //Toggle focus --> display navbar content
        &-toggle:not(input):focus + &-content,
        &-toggle:checked + &-content,
        &.is-expanded &-content {
            display: block !important;
            max-height: 100vh;
        }
    }
    //Navigation hamburger icon
    //&-icon,
    //&-icon::before,
    //&-icon::after {
    //    content: "";
    //    display: block;
    //    width: 100%;
    //    height: 4px;
    //    border-radius: 10px;
    //    background-color: functions.get-color("dark"); //Default color
    //}
    //&-icon {
    //    position: relative;
    //    margin-top: 13px;
    //    margin-bottom: 13px;
    //}
    //&-icon::before {
    //    position: absolute;
    //    top: -8px;
    //}
    //&-icon::after {
    //    position: absolute;
    //    bottom: -8px;
    //}
    //Fixed navbar
    &.is-fixed-top,
    &.is-fixed-bottom {
        position: fixed;
        left: 0;
        right: 0;
        z-index: 50;
    }
    //Fixed navbar to top
    &.is-fixed-top {
        top: 0;
    }
    //Fixed navbar to bottom
    &.is-fixed-bottom {
        bottom: 0;
    }
    //Colored navbar
    //@each $color in variables.$colors-modifiers {
    @each $color in variables.$colors-theme {
        &.is-#{$color} {
            //background-color: functions.get-color($color);
            color: functions.get-color-invert($color);
        }
        //Links and brand colors
        &.is-#{$color} &-item,
        &.is-#{$color} &-brand {
            color: functions.get-color-invert($color);
        }
        //Toggle icon color
        &.is-#{$color} &-toggle {
            border-color: functions.get-color-invert($color);
        }
        &.is-#{$color} &-toggle::before {
            border-top-color: functions.get-color-invert($color);
            border-bottom-color: functions.get-color-invert($color);
        }
        &.is-#{$color} &-toggle::after {
            background-color: functions.get-color-invert($color);
        }
    }
    //Navbar sizes
    //@each $size in utils.keys(variables.$content-sizes) {
    //    &--#{$size} {
    //        @include mixins.content-size($size);
    //    }
    //}
}

