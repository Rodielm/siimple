@use "siimple-lib" as lib;

//Row loader
@mixin load-experiments-tooltip ($options: (), $prefix: lib.$prefix, $name: "tooltip") {
    .#{$prefix}#{$name} {
        @include tooltip($options);
    }
}

//Export tooltip component
//.#{lib.$prefix}tooltip {
@mixin tooltip ($options: ()) {
    $tooltip-margin: lib.get($options, "margin", 0.5rem);
    $tooltip-zindex: lib.get($options, "zindex", 999);
    display: none;
    position: absolute;
    border-radius: lib.$border-radius-base;
    padding: lib.get($options, "padding", 0.5rem);
    background-color: lib.get-color("white");
    color: lib.get-color("dark");
    z-index: $tooltip-zindex;
    //Tooltip arrow
    &::after {
        content: " ";
        display: block;
        position: absolute;
        z-index: lib.get($options, "arrow.zindex", $tooltip-zindex - 1);
        width: lib.get($options, "arrow.width", 10px);
        height: lib.get($options, "arrow.height", 10px);
        background-color: lib.get-color("white");
    }
    //Tooltip top position
    &.is-top {
        top: 0;
        left: 50%;
        transform: translate(-50%, calc(-100% - #{$tooltip-margin}));
    }
    &.is-top::after {
        bottom: 0;
        left: 50%;
        transform: translate(-50%, 50%) rotate(45deg);
    }
    //Tooltip bottom position
    &.is-bottom {
        bottom: 0;
        left: 50%;
        transform: translate(-50%, calc(100% + #{$tooltip-margin}));
    }
    &.is-bottom::after {
        top: 0;
        left: 50%;
        transform: translate(-50%, -50%) rotate(45deg);
    }
    //Tooltip right position
    &.is-right {
        top: 50%;
        right: 0;
        transform: translate(calc(100% + #{$tooltip-margin}), -50%);
    }
    &.is-right::after {
        top: 50%;
        left: 0;
        transform: translate(-50%, -50%) rotate(45deg);
    }
    //Tooltip left position
    &.is-left {
        top: 50%;
        left: 0;
        transform: translate(calc(-100% - #{$tooltip-margin}), -50%);
    }
    &.is-left::after {
        top: 50%;
        right: 0;
        transform: translate(50%, -50%) rotate(45deg);
    }
    //Light tooltip
    &.is-light {
        background-color: lib.get-color("light");
        color: lib.get-color("dark");
    }
    &.is-light::after {
        background-color: lib.get-color("light");
    }
    //Dark tooltip
    &.is-dark {
        background-color: lib.get-color("dark");
        color: lib.get-color("white");
    }
    &.is-dark::after {
        background-color: lib.get-color("dark");
    }
    //Tooltip visible
    &.is-visible {
        display: block !important;
    }
    //Wrapper to enable tooltip inside another element
    .with-tooltip {
        position: relative;
    }
    .with-tooltip:hover & {
        display: block;
    }
}

